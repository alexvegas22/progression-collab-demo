<template>
	<nav class="navbar justify-content-between navbar-dark bg-dark"
		v-shortkey="raccourcis.basculerTh猫me"
		@shortkey="basculerTh猫meSombre"
	>
		<a
			href="/"
			class="navbar-brand text-light mr-auto"
		>
			<span class="text-info"> Prog</span>ression
		</a>
		<span class="text-username">{{username}}</span>
		<Transition>
			<div v-if="token" class="dropdown">
				<a data-bs-toggle="dropdown">
					<i
						class="fa fa-bars barBtn"
					/>
				</a>
				<ul
					class="dropdown-menu"
				>
					<li
						v-if="token"
						class="btnDMM"
					>
						<a class="focus padding">
							<i class="fas fa-laptop-code ic么ne"/>
							<label>
								<span>{{ $t('menu.exercices') }}</span>
							</label>
						</a>
						<ul
							class="dropdown-menu dropdown-submenu-p dropdown-submenu-left"
						>
							<li
								class="btnDMM"
								@click="allerVers('Accomplissements')"
							>
								<a class="focus padding">
									<i class="fas fa-trophy ic么ne"></i>
									<label>
										<span>{{ $t('menu.accomplissement') }}</span>
									</label>
								</a>
							</li>
							<li
								class="btnDMM"
							>
								<div class="focus padding" >
									{{ $t('menu.nouvelExercice') }}
									<div style="display: flex; flex-flow: row; align-items: bottom">
										<input type="text"
											:placeholder="$t('menu.invite_url')"
											class="champ-url"
											@change="chargerNouveau"
											v-model="nouvelUrl">
										<i class="btn-test-local fas fa-play" @click="chargerNouveau"></i>
									</div>
								</div>
							</li>
						</ul>
					</li>							
					<li
						class="btnDMM"
					>
						<a class="focus padding">
							<i class="fas fa-sliders-h ic么ne"></i>
							<label>
								<span>{{ $t('menu.pr茅f茅rences') }}</span>
							</label>
						</a>
						<ul
							class="dropdown-menu dropdown-submenu-p dropdown-submenu-left"
						>
							<li
								class="btnDMM"
								@click="basculerTh猫meSombre"
							>
								<a class="focus padding">
									<i class="fas fa-adjust ic么ne"
									></i>
									<label>
										<span v-if="this.th猫meSombre===true">{{$t("menu.th猫meClair")}}</span>
										<span v-else>{{$t("menu.th猫meSombre")}}</span>
									</label>
								</a>
							</li>
							<li
								class="btnDMM"
								@click="basculerLocale"
							>
								<a class="focus padding">
									<i class="fas fa-globe ic么ne"
									></i>
									<label>
										<span v-if="this.locale==='fr'"> {{$t("menu.english")}}</span>
										<span v-else> {{$t("menu.fran莽ais")}}</span>
									</label>
								</a>
							</li>
							<li v-if="indicateursDeFonctionnalit茅VersionTest"
								class="btnDMM"
								@click="basculerVersionTest"
							>
								<a class="focus padding">
									<label>
										<span>{{$t("menu.versionTest")}}</span>
										<input
											v-model="versionTest"
											type="checkbox"
										>
									</label>
								</a>
							</li>
						</ul>
					</li>
					<li class="dropdown-divider"></li>
					<li class="btnDMM">
						<a>
							<button
								v-if="token"
								class="btn focus"
								@click="$emit('d茅connexion')"
							><span class="fa fa-sign-out ic么ne-d茅connexion"></span>{{ $t('menu.d茅connexion') }}</button>
						</a>
					</li>
				</ul>

			</div>
			<div v-else>
				<button
					class="btn focus btn-connexion"
					@click="$emit('connexion')"
				><span class="fa fa-sign-out ic么ne-connexion"></span>{{ $t('menu.connexion') }}</button>
			</div>
		</Transition>
	</nav>
</template>

<script src="./navbar.js"/>
